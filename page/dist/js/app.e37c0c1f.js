(function(){"use strict";var t={8953:function(t,e,a){var s=a(7195),n=function(){var t=this,e=t._self._c;return e("div",[t.init?t._e():e("log-in",{attrs:{tryLogIn:t.tryLogIn}}),t.init?e("div",[e("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInDown"}},[e("PageTop")],1),e("div",{staticStyle:{height:"1vh"}}),e("PageValue",{attrs:{list:t.list}}),e("div",{staticStyle:{height:"6vh"}})],1):t._e()],1)},r=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"login-page"}},[e("div",{staticStyle:{height:"30vh"}}),e("div",{staticClass:"login-from col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4"},[e("h2",[t._v("管理员登陆")]),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("用户名")])]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",placeholder:"密码"},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("label",{attrs:{for:"floatingPassword"}},[t._v("密码")])]),e("button",{staticClass:"btn btn-primary",on:{click:t.login}},[t._v("登陆")])])])},o=[],l={name:"LogIn",data(){return{name:"",password:""}},props:["tryLogIn"],methods:{login(){if(0!==this.name.length&&0!==this.password.length){const t=/[<>\\]/;t.test(this.name)||t.test(this.password)?alert("不能含有特殊符号"):this.tryLogIn(this.name,this.password)}else alert("不能为空")}}},d=l,u=a(1001),c=(0,u.Z)(d,i,o,!1,null,"236c0bd6",null),p=c.exports,m=function(){var t=this;t._self._c;return t._m(0)},h=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar",staticStyle:{"box-shadow":"0 0 5px gray"}},[e("div",{staticClass:"container-fluid"},[e("a",{staticClass:"navbar-brand"},[t._v("ADM-Menu")])])])}],f={name:"PageTop"},v=f,g=(0,u.Z)(v,m,h,!1,null,"1dd5aa78",null),_=g.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container col-12 offset-0 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},[e("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInUp","leave-active-class":"animate__bounceOut"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.addOn,expression:"!addOn"}],staticClass:"card-page add-div",on:{click:function(e){t.addOn=!t.addOn}}},[e("svg",{staticClass:"bi bi-plus add-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}})])])]),e("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__zoomInDown"}},[e("PageValueAdd",{directives:[{name:"show",rawName:"v-show",value:t.addOn,expression:"addOn"}],attrs:{allTags:t.allTags}})],1),e("PageValueCards",{attrs:{list:t.list}})],1)},b=[],y=(a(7658),function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"card-page",staticStyle:{padding:"35px"}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("索引")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"path"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1"},domProps:{value:t.path},on:{input:function(e){e.target.composing||(t.path=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleInputPassword1"}},[t._v("URL")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"url",id:"exampleInputPassword1"},domProps:{value:t.url},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addOne.apply(null,arguments)},input:function(e){e.target.composing||(t.url=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",attrs:{id:"add"},on:{click:t.addOne}},[t._v("添加")])])])}),O=[function(){var t=this,e=t._self._c;return e("div",{pre:!0,attrs:{class:"card-page",style:"padding: 20px 15px"}},[e("ul",[e("li",[t._v("索引无需添加斜杠 “/”。")]),e("li",[t._v("URL可设置成转跳链接，也可以设置为相对路径，例如“#”。")]),e("li",[t._v("URL要设置成转跳链接时候一定要添加“http(s)://”，不然会被认为是相对链接。")])])])}],x={name:"PageValueAdd",props:["allTags"],data(){return{path:"",url:""}},methods:{addOne(){if(console.log(this.path,this.url),0!==this.path.length&&0!==this.url.length){const t=/[<>\\]/;t.test(this.path)||t.test(this.url)?alert("不能含有 <>\\ 这几个特殊符号"):-1===["systemServer","adm"].indexOf(this.path)?-1===this.allTags.indexOf(this.path)?(this.$bus.$emit("addOne",this.path,this.url),this.url="",this.path=""):alert("索引标签重复，请进行修改"):alert("索引标签与系统占用标签相同，请进行修改")}else alert("不能为空")}}},C=x,P=(0,u.Z)(C,y,O,!1,null,"5f31548c",null),I=P.exports,k=function(){var t=this,e=t._self._c;return e("div",[e("transition-group",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInUp","leave-active-class":"animate__bounceOut"}},t._l(t.list,(function(a){return e("div",{key:a.id,staticClass:"card-page"},[e("h4",[t._v(t._s(a.name))]),e("h6",{staticClass:"card-subtitle text-muted"},[t._v(t._s(a.userName))]),e("a",{staticClass:"as",attrs:{href:a.url,target:"_blank"}},[t._v(t._s(a.url))]),e("a",{staticClass:"false",attrs:{href:"#"},on:{click:function(e){return t.delOne(a)}}},[e("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"}},[e("path",{pre:!0,attrs:{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}})])])])})),0)],1)},L=[],S={name:"PageValueCards",props:["list"],methods:{delOne(t){this.$bus.$emit("delOne",t)}}},Z=S,$=(0,u.Z)(Z,k,L,!1,null,"660d0d03",null),N=$.exports,T={name:"PageValue",props:["list"],data(){return{addOn:!1}},components:{PageValueAdd:I,PageValueCards:N},computed:{allTags(){const t=[];for(let e of this.list)t.push(e.name);return t}}},V=T,j=(0,u.Z)(V,w,b,!1,null,"791326bc",null),A=j.exports,E=a(306),M={name:"App",components:{LogIn:p,PageTop:_,PageValue:A},data(){return{init:!1,list:[],user:{name:"",password:""}}},methods:{tryLogIn(t,e,a=!0){E.Z.post("/systemServer/getValList",{name:t,password:e}).then((s=>{"用户名或密码错误"===s.data[0]?alert(s.data[0]):(this.init||(a&&alert("登录成功"),this.init=!0,localStorage.setItem("user",JSON.stringify({name:t,password:e}))),this.list=s.data,this.user={name:t,password:e})})).catch((t=>{console.error(t)}))},getNewList(){this.tryLogIn(this.user.name,this.user.password,!1)},addOne(t,e){E.Z.post("/systemServer/addOne",{name:this.user.name,password:this.user.password,tag:t,url:e}).then((t=>{"成功"===t.data[0]?this.getNewList():alert(t.data[0])})).catch((t=>{console.error(t)}))},delOne(t){confirm(`确定要删除索引 ${t.name} 吗？`)&&E.Z.post("/systemServer/removeOne",{name:this.user.name,password:this.user.password,tagId:t.id}).then((t=>{alert(t.data[0]),this.getNewList()})).catch((t=>{console.error(t)}))}},mounted(){const t=JSON.parse(localStorage.getItem("user"));t&&this.tryLogIn(t["name"],t["password"],!1),this.$bus.$on("addOne",this.addOne),this.$bus.$on("delOne",this.delOne)},beforeDestroy(){this.$bus.off("addOne"),this.$bus.off("delOne")}},U=M,D=(0,u.Z)(U,n,r,!1,null,null,null),R=D.exports;s.ZP.config.productionTip=!1,new s.ZP({render:t=>t(R),beforeCreate(){s.ZP.prototype.$bus=this}}).$mount("#app")}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,r){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],r=t[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&r||i>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,r<i&&(i=r));if(o){t.splice(u--,1);var d=n();void 0!==d&&(e=d)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,n,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,r,i=s[0],o=s[1],l=s[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)var u=l(a)}for(e&&e(s);d<i.length;d++)r=i[d],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},s=self["webpackChunkpage"]=self["webpackChunkpage"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8953)}));s=a.O(s)})();
//# sourceMappingURL=app.e37c0c1f.js.map