(function(){"use strict";var t={4566:function(t,e,s){var a=s(7195),n=function(){var t=this,e=t._self._c;return e("div",[t.init?t._e():e("log-in",{attrs:{tryLogIn:t.tryLogIn}}),t.init?e("div",[e("PageTop"),e("div",{staticStyle:{height:"1vh"}}),e("PageValue",{attrs:{list:t.list}}),e("div",{staticStyle:{height:"6vh"}})],1):t._e()],1)},r=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"login-page"}},[e("div",{staticStyle:{height:"30vh"}}),e("div",{staticClass:"login-from col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4"},[e("h2",[t._v("管理员登陆")]),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("label",{attrs:{for:"floatingInput"}},[t._v("用户名")])]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",placeholder:"密码"},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("label",{attrs:{for:"floatingPassword"}},[t._v("密码")])]),e("button",{staticClass:"btn btn-primary",on:{click:t.login}},[t._v("登陆")])])])},o=[],l={name:"LogIn",data(){return{name:"",password:""}},props:["tryLogIn"],methods:{login(){if(0!==this.name.length&&0!==this.password.length){const t=/[<>\\]/;t.test(this.name)||t.test(this.password)?alert("不能含有特殊符号"):this.tryLogIn(this.name,this.password)}else alert("不能为空")}}},u=l,d=s(1001),c=(0,d.Z)(u,i,o,!1,null,"236c0bd6",null),p=c.exports,f=function(){var t=this;t._self._c;return t._m(0)},h=[function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar",staticStyle:{"box-shadow":"0 0 5px gray"}},[e("div",{staticClass:"container-fluid"},[e("a",{staticClass:"navbar-brand"},[t._v("ADM-Menu")])])])}],m={name:"PageTop"},g=m,v=(0,d.Z)(g,f,h,!1,null,"1dd5aa78",null),w=v.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container col-12 offset-0 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},[e("PageValueAdd",{attrs:{allTags:t.allTags}}),e("PageValueCards",{attrs:{list:t.list}})],1)},b=[],_=(s(7658),function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"card-page",staticStyle:{padding:"35px"}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleInputEmail1"}},[t._v("索引")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"path"}],staticClass:"form-control",attrs:{type:"text",id:"exampleInputEmail1"},domProps:{value:t.path},on:{input:function(e){e.target.composing||(t.path=e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label",attrs:{for:"exampleInputPassword1"}},[t._v("URL")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"url",id:"exampleInputPassword1"},domProps:{value:t.url},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addOne.apply(null,arguments)},input:function(e){e.target.composing||(t.url=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",attrs:{id:"add"},on:{click:t.addOne}},[t._v("添加")])])])}),x=[function(){var t=this,e=t._self._c;return e("div",{pre:!0,attrs:{class:"card-page",style:"padding: 20px 15px"}},[e("ul",[e("li",[t._v("索引无需添加斜杠 “/”。")]),e("li",[t._v("URL可设置成转跳链接，也可以设置为相对路径，例如“#”。")]),e("li",[t._v("URL要设置成转跳链接时候一定要添加“http(s)://”，不然会被认为是相对链接。")])])])}],O={name:"PageValueAdd",props:["allTags"],data(){return{path:"",url:""}},methods:{addOne(){if(console.log(this.path,this.url),0!==this.path.length&&0!==this.url.length){const t=/[<>\\]/;t.test(this.path)||t.test(this.url)?alert("不能含有 <>\\ 这几个特殊符号"):-1===["systemServer","adm"].indexOf(this.path)?-1===this.allTags.indexOf(this.path)?(this.$bus.$emit("addOne",this.path,this.url),this.url="",this.path=""):alert("索引标签重复，请进行修改"):alert("索引标签与系统占用标签相同，请进行修改")}else alert("不能为空")}}},C=O,P=(0,d.Z)(C,_,x,!1,null,"5f31548c",null),k=P.exports,L=function(){var t=this,e=t._self._c;return e("div",t._l(t.list,(function(s){return e("div",{key:s.id,staticClass:"card-page"},[e("h4",[t._v(t._s(s.name))]),e("h6",{staticClass:"card-subtitle text-muted"},[t._v(t._s(s.userName))]),e("a",{staticClass:"as",attrs:{href:s.url,target:"_blank"}},[t._v(t._s(s.url))]),e("a",{staticClass:"false",attrs:{href:"#"},on:{click:function(e){return t.delOne(s)}}},[e("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"}},[e("path",{pre:!0,attrs:{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}})])])])})),0)},I=[],S={name:"PageValueCards",props:["list"],methods:{delOne(t){this.$bus.$emit("delOne",t)}}},Z=S,$=(0,d.Z)(Z,L,I,!1,null,"88ed5928",null),T=$.exports,N={name:"PageValue",props:["list"],components:{PageValueAdd:k,PageValueCards:T},computed:{allTags(){const t=[];for(let e of this.list)t.push(e.name);return t}}},V=N,j=(0,d.Z)(V,y,b,!1,null,"4f348002",null),A=j.exports,E=s(306),M={name:"App",components:{LogIn:p,PageTop:w,PageValue:A},data(){return{init:!1,list:[],user:{name:"",password:""}}},methods:{tryLogIn(t,e,s=!0){E.Z.post("/systemServer/getValList",{name:t,password:e}).then((a=>{"用户名或密码错误"===a.data[0]?alert(a.data[0]):(this.init||(s&&alert("登录成功"),this.init=!0,localStorage.setItem("user",JSON.stringify({name:t,password:e}))),this.list=a.data,this.user={name:t,password:e})})).catch((t=>{console.error(t)}))},getNewList(){this.tryLogIn(this.user.name,this.user.password,!1)},addOne(t,e){E.Z.post("/systemServer/addOne",{name:this.user.name,password:this.user.password,tag:t,url:e}).then((t=>{"成功"===t.data[0]?this.getNewList():alert(t.data[0])})).catch((t=>{console.error(t)}))},delOne(t){confirm(`确定要删除索引 ${t.name} 吗？`)&&E.Z.post("/systemServer/removeOne",{name:this.user.name,password:this.user.password,tagId:t.id}).then((t=>{alert(t.data[0]),this.getNewList()})).catch((t=>{console.error(t)}))}},mounted(){const t=JSON.parse(localStorage.getItem("user"));t&&this.tryLogIn(t["name"],t["password"],!1),this.$bus.$on("addOne",this.addOne),this.$bus.$on("delOne",this.delOne)},beforeDestroy(){this.$bus.off("addOne"),this.$bus.off("delOne")}},R=M,U=(0,d.Z)(R,n,r,!1,null,null,null),D=U.exports;a.ZP.config.productionTip=!1,new a.ZP({render:t=>t(D),beforeCreate(){a.ZP.prototype.$bus=this}}).$mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,r){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],r=t[d][2];for(var o=!0,l=0;l<a.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(o=!1,r<i&&(i=r));if(o){t.splice(d--,1);var u=n();void 0!==u&&(e=u)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[a,n,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,r,i=a[0],o=a[1],l=a[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(l)var d=l(s)}for(e&&e(a);u<i.length;u++)r=i[u],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},a=self["webpackChunkpage"]=self["webpackChunkpage"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4566)}));a=s.O(a)})();
//# sourceMappingURL=app.98f86fa7.js.map