(function(){"use strict";var t={3917:function(t,e,a){var s=a(7195),r=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},n=[],o={name:"App",components:{},data(){return{}}},i=o,l=a(1001),c=(0,l.Z)(i,r,n,!1,null,null,null),u=c.exports,d=a(408),h=a(306);s.ZP.use(d.ZP);const p={whiteUser(t,e){localStorage.setItem("user",JSON.stringify(e)),t.commit("WHITEUSER",e)}},m={WHITEUSER(t,e){t.user.name=e.name,t.user.password=e.password}},v={user:{name:"",password:""},postTo(t,e,a){if(!e.name&&!e.password){const t=JSON.parse(localStorage.getItem("user"));t&&(this.user=t,e=t)}h.Z.post(t,e).then((t=>a(t.data)),(t=>alert("网络连接失败"+t)))},tryLogIn(t,e,a){this.$store.state.postTo("/systemServer/login",{name:t,password:e},a)},getValueList(t){this.$store.state.postTo("/systemServer/getValList",{name:this.$store.state.user.name,password:this.$store.state.user.password},t)},getValueLog(t){this.$store.state.postTo("/systemServer/getValLog",{name:this.$store.state.user.name,password:this.$store.state.user.password},t)},addListOne(t,e,a){this.$store.state.postTo("/systemServer/addOne",{name:this.$store.state.user.name,password:this.$store.state.user.password,tag:t,url:e},a)},removeListOne(t,e){this.$store.state.postTo("/systemServer/removeOne",{name:this.$store.state.user.name,password:this.$store.state.user.password,tagId:t},e)}},g={};var f=new d.ZP.Store({actions:p,mutations:m,state:v,getters:g}),_=a(2241),w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"login-page"}},[e("div",{staticStyle:{height:"30vh"}}),e("div",{staticClass:"login-from col-12 offset-0 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4"},[e("h2",[t._v("管理员登陆")]),e("div",{staticClass:"form-floating mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),e("label",[t._v("用户名")])]),e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("label",[t._v("密码")])]),e("button",{staticClass:"btn btn-primary",on:{click:t.login}},[t._v("登陆")])])])},b=[],C=(a(7658),{name:"LogIn",data(){return{name:"",password:""}},methods:{login(){if(0!==this.name.length&&0!==this.password.length){const t=/[<>\\]/;t.test(this.name)||t.test(this.password)?alert("不能含有特殊符号"):this.tryLogIn(this.name,this.password,(t=>{t?(this.whiteUser({name:this.name,password:this.password}),this.name="",this.password="",this.$router.push("/page")):alert("用户名或密码错误")}))}else alert("不能为空")},...(0,d.nv)(["whiteUser"])},computed:{...(0,d.rn)(["tryLogIn"])},mounted(){const t=JSON.parse(localStorage.getItem("user"));t&&this.tryLogIn(t.name,t.password,(e=>{e?(this.whiteUser({name:t.name,password:t.password}),this.$router.push("/page")):localStorage.removeItem("user")}))}}),y=C,L=(0,l.Z)(y,w,b,!1,null,"6cc0a34a",null),O=L.exports,x=function(){var t=this,e=t._self._c;return e("div",[e("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInDown"}},[e("nav",{staticClass:"navbar navbar-expand-lg bg-body-tertiary"},[e("div",{staticClass:"container-fluid"},[e("a",{staticClass:"navbar-brand"},[t._v("ADM-Menu")]),e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})]),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav me-auto mb-2 mb-lg-0"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page","active-class":"active",to:"/page/list"}},[t._v(" list ")])],1),e("li",[e("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page","active-class":"active",to:"/page/log"}},[t._v(" log ")])],1)])])])])]),e("router-view")],1)},k=[],S={name:"HomePage"},V=S,P=(0,l.Z)(V,x,k,!1,null,"3cca0d87",null),I=P.exports,$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container col-12 offset-0 col-md-10 offset-md-1 col-lg-8 offset-lg-2"},[e("PageListSearch",{attrs:{valueChange:t.valueChange,list:t.list}}),e("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInUp","leave-active-class":"animate__bounceOut"}},[e("PageListCards",{attrs:{list:t.list,searchValue:t.searchValue,addClick:t.addClick,"del-one":t.delOne}})],1),e("transition",{attrs:{name:"animate__animated animate__bounce","enter-active-class":"animate__bounceIn","leave-active-class":"animate__zoomOut"}},[e("PageListAddForm",{directives:[{name:"show",rawName:"v-show",value:t.addOn,expression:"addOn"}],attrs:{allTags:t.allTags,addOne:t.addOne}})],1)],1)},Z=[],T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 offset-0 col-md-6 offset-md-3"},[e("div",{staticClass:"card-page from"},[e("div",{staticClass:"row g-2 mb-2"},[e("div",{staticClass:"col-xxl"},[e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.path,expression:"path"}],staticClass:"form-control",attrs:{type:"email",placeholder:"索引"},domProps:{value:t.path},on:{input:function(e){e.target.composing||(t.path=e.target.value)}}}),e("label",[t._v("索引")])])]),e("div",{staticClass:"col-xxl"},[e("div",{staticClass:"form-floating"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"url",placeholder:"URL"},domProps:{value:t.url},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addOne.apply(null,arguments)},input:function(e){e.target.composing||(t.url=e.target.value)}}}),e("label",[t._v("URL")])])])]),e("button",{staticClass:"btn btn-primary",on:{click:t.addListOne}},[t._v("添加")])]),t._m(0)])},N=[function(){var t=this,e=t._self._c;return e("div",{pre:!0,attrs:{class:"card-page warning"}},[e("ul",[e("li",[t._v("索引无需添加斜杠 “/”。")]),e("li",[t._v("URL可设置成转跳链接，也可以设置为相对路径，例如“#”。")]),e("li",[t._v("URL要设置成转跳链接时候一定要添加“http(s)://”，不然会被认为是相对链接。")])])])}],U={name:"PageListAddForm",props:["allTags","addOne"],data(){return{path:"",url:""}},methods:{addListOne(){if(0!==this.path.length&&0!==this.url.length){const t=/[<>\\]/;t.test(this.path)||t.test(this.url)?alert("不能含有 <>\\ 这几个特殊符号"):-1===["systemServer","adm"].indexOf(this.path)?-1===this.allTags.indexOf(this.path)?(this.addOne(this.path,this.url),this.url="",this.path=""):alert("索引标签重复，请进行修改"):alert("索引标签与系统占用标签相同，请进行修改")}else alert("不能为空")}}},j=U,E=(0,l.Z)(j,T,N,!1,null,"7675bac8",null),B=E.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xxl-5 g-4"},t._l(t.listOn,(function(a){return e("div",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"i.show"}],key:a.id,staticClass:"col"},[a.id!==t.add.id?e("div",{staticClass:"card h-100"},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title mb-2"},[t._v(t._s(a.name))]),e("h6",{staticClass:"card-subtitle text-muted"},[t._v(t._s(a.userName))]),e("a",{staticClass:"card-link",attrs:{href:a.url,target:"_blank"}},[t._v(t._s(a.url))])]),e("div",{staticClass:"card-footer"},[e("small",{staticClass:"text-muted"},[t._v(t._s(a.time))])]),e("div",{staticClass:"false",on:{click:function(e){return t.delOne(a)}}},[e("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"}},[e("path",{pre:!0,attrs:{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}})])])]):t._e(),a.id===t.add.id?e("button",{staticClass:"btn btn-add",on:{click:function(e){return t.addBtn(a)}}},[e("svg",{staticClass:"bi bi-plus add-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",viewBox:"0 0 16 16"}},[e("path",{attrs:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"}})])]):t._e()])})),0)},M=[],A={name:"PageListCards",props:["list","addClick","searchValue","delOne"],data(){return{add:{id:"addBtn123",show:!0}}},methods:{addBtn(t){this.add.show=!1,t.show=!1,this.addClick()},showCard(t){if(""===this.searchValue)return!0;{const e=this.searchValue,a=(t,e)=>t.toLowerCase().includes(e.toLowerCase());return a(t.name,e)||a(t.url,e)||a(t.time,e)||a(t.userName,e)}}},computed:{...(0,d.rn)(["removeListOne"]),listOn(){if(""===this.searchValue){const t=[];for(let e of this.list)e.show=!0,t.push(e);return t.push(this.add),t}{const t=[],e=[];this.list.forEach((a=>{this.showCard(a)?(a.show=!0,t.push(a)):(a.show=!1,e.push(a))}));let a=[];return 0===t.length?(e.push(this.add),a=e):(t.push(this.add),a=t.concat(e)),a}}}},J=A,z=(0,l.Z)(J,R,M,!1,null,"6559b773",null),F=z.exports,D=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__fadeInDown"}},[e("div",{staticClass:"col-12 offset-0 col-md-8 offset-md-2 col-xxl-6 offset-xxl-3 div-input"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchValue,expression:"searchValue",modifiers:{trim:!0}}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.searchValue.length,expression:"searchValue.length"}],attrs:{id:"del"},on:{click:function(e){t.searchValue=""}}},[e("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg clear",viewBox:"0 0 16 16"}},[e("path",{pre:!0,attrs:{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}})])]),e("svg",{pre:!0,attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-search search-logo",viewBox:"0 0 16 16"}},[e("path",{pre:!0,attrs:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}})]),e("div",{staticClass:"div-tips"},t._l(t.tipsOn,(function(a){return e("div",{key:a,staticClass:"tips-for-search",on:{click:function(e){t.searchValue=a}}},[t._v(" "+t._s(a)+" ")])})),0)])])},H=[],W=(a(6229),a(7330),a(2062),{name:"PageListSearch",data(){return{searchValue:"",timeoutI:""}},props:["valueChange","list"],computed:{tipsOn(){const t=[],e=[],a=[];this.list.forEach((s=>{try{const a=new URL(s.url),r=a.hostname,n=a.port;e.push(r),n&&t.push(n)}catch(r){console.log(r)}a.push(s.userName)}));const s=[...new Set(e)],r=[...new Set(a)],n=[...new Set(t)];let o=[];return 1===s.length&&this.list.length===e.length||(o=o.concat(s)),o=o.concat(n),1!==r.length&&(o=o.concat(r)),[...new Set(o)]}},watch:{searchValue(t){clearTimeout(this.timeoutI),this.timeoutI=setTimeout((()=>{this.valueChange(t)}),100)}}}),q=W,G=(0,l.Z)(q,D,H,!1,null,"812841d0",null),K=G.exports,Q={name:"PageList",data(){return{addOn:!1,searchValue:"",list:[]}},components:{PageListSearch:K,PageListAddForm:B,PageListCards:F},computed:{allTags(){const t=[];for(let e of this.list)t.push(e.name);return t},...(0,d.rn)(["getValueList","removeListOne","addListOne"])},methods:{addClick(){this.addOn=!0},valueChange(t){this.searchValue=t},getList(){this.getValueList((t=>{t?this.list=t:alert("list 信息请求失败")}))},delOne(t){confirm(`确定要删除索引 ${t.name} 吗？`)&&this.removeListOne(t.id,(t=>{t?this.getList():alert("失败")}))},addOne(t,e){this.addListOne(t,e,(t=>{t?this.getList():alert("失败")}))}},mounted(){const t=JSON.parse(localStorage.getItem("user"));t?this.getList():this.$router.push("/login")},beforeRouteEnter(t,e,a){try{const t=document.getElementById("navbarSupportedContent");t.classList.toggle("show")}catch(s){console.log("直接访问出现此log可以忽视"),console.log(s)}a()}},X=Q,Y=(0,l.Z)(X,$,Z,!1,null,"7a3c1ea2",null),tt=Y.exports,et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"pt-4"},[e("transition-group",{attrs:{appear:"",name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInUp","leave-active-class":"animate__bounceOut"}},t._l(t.nLog,(function(a){return e("div",{key:a.id,staticClass:"row"},[e("div",{staticClass:"col-md-2 d-flex justify-content-center align-items-center app-line"},[e("span",{staticClass:"badge rounded-pill bg-primary"},[t._v(t._s(a.time))])]),e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"card rounded-0 border-0 shadow my-4"},[e("div",{staticClass:"card-body"},["addOne"===a.thing?e("h5",{staticClass:"card-title"},[t._v("添加")]):t._e(),"removeOne"===a.thing?e("h5",{staticClass:"card-title"},[t._v("删除")]):t._e(),"addOne"===a.thing?e("p",{staticClass:"card-text"},[t._v(" 管理员"),e("mark",[t._v(t._s(a.who))]),t._v("增添了项目"),e("mark",[t._v("/"+t._s(a.obj.name)+" ——> "+t._s(a.obj.url))]),t._v("。 ")]):t._e(),"removeOne"===a.thing?e("p",{staticClass:"card-text"},[t._v(" 管理员"),e("mark",[t._v(t._s(a.who))]),t._v("删除了项目"),e("mark",[t._v("/"+t._s(a.obj.name)+" ——> "+t._s(a.obj.url))]),t._v("， 它是管理员"),e("mark",[t._v(t._s(a.obj.userName))]),t._v("于"+t._s(a.obj.time)+"创建的。 ")]):t._e()])])])])})),0),0===t.log.length?e("div",[e("h2",[t._v(t._s(t.noValue))])]):t._e()],1)])},at=[],st={name:"PageLog",data(){return{log:[],noValue:""}},computed:{nLog(){let t=[];for(let e of this.log)t.unshift(e);return t},...(0,d.rn)(["getValueLog"])},mounted(){const t=JSON.parse(localStorage.getItem("user"));t?this.getValueLog((t=>{t?(this.log=t,0===t.length&&(this.noValue="当前没有 log")):alert("data 获取失败。")})):this.$router.push("/login")},beforeRouteEnter(t,e,a){try{const t=document.getElementById("navbarSupportedContent");t.classList.toggle("show")}catch(s){console.log("直接访问出现此log可以忽视"),console.log(s)}a()}},rt=st,nt=(0,l.Z)(rt,et,at,!1,null,"335a9aeb",null),ot=nt.exports;const it=new _.ZP({routes:[{path:"/",redirect:"/login"},{path:"/login",component:O,meta:{name:"登陆"}},{path:"/page",redirect:"/page/list",component:I,meta:{name:"主页"},children:[{path:"list",component:tt,meta:{name:"列表"}},{path:"log",component:ot,meta:{name:"日志"}}]}]});var lt=it;s.ZP.config.productionTip=!1,s.ZP.use(_.ZP),new s.ZP({render:t=>t(u),beforeCreate(){s.ZP.prototype.$bus=this},router:lt,store:f}).$mount("#app")}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={exports:{}};return t[s].call(n.exports,n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,n){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(i=!1,n<o&&(o=n));if(i){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,n,o=s[0],i=s[1],l=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(e&&e(s);c<o.length;c++)n=o[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkpage"]=self["webpackChunkpage"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(3917)}));s=a.O(s)})();
//# sourceMappingURL=app.2877b701.js.map